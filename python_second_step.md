# 2nd Step の 基礎トレ　説明と確認　2019年4月版

趣旨の説明

|項目|説明|
|---|---|
|ねらい|1st Stepで「順次・選択・繰り返し」の「順次」が分かったので、<br>2nd Stepでは「選択・繰り返し」を使いこなせるようにする。|
|方法|1st Step と同じ|
|想定時間|20時間|


## 0　1st Stepの復習（ここで知る新しい知識も入っています）
### 電卓
```bash
>>> 3 + 4		# int型の計算
7
>>> 30 - 2 * 6		# 計算の順序に注意
18
>>> ( 30 - 2 ) * 6 / 4	# （）を優先
42.0
>>> 9 / 2		# 除算するとfloat型が返ってくる
4.5
>>> 10 / 3		# 割り切れない場合　末尾に注意
3.3333333333333335
>>> 18 / 7		# 割り切れない計算
2.5714285714285716
>>> 18 // 7		# 除算の整数値だけ
2
>>> 18 % 7		# 除算の余りだけ
4
>>> 2 * 7 + 4		# 検算　答え×割る数+余り
18
>>> 6 ** 2		# 累乗の例
36
>>> 2 ** 4		# 累乗の例
16
>>> 3.14 * 5  /  2.5	# int型とfloat型の混在計算　結果はfloat型
6.28
>>> 6.28 / 4
1.57
```

### 変数
```bash
>>> # 長方形の面積計算
>>> width = 100
>>> height = 80
>>> area = width * height
>>> print(area)
8000
```

### エラー
```bash
>>> weight
Traceback (most recent call last):
  File "<pyshell#18>", line 1, in <module>
    weight
NameError: name 'weight' is not defined
（ネームエラー：　weightという名前は定義されてません）
```

### 文字列
```python
>>> 'is not'			# シングルクオート
'is not'
>>> 'isn't'			# クオートが重なるとどうなるか実験
SyntaxError: invalid syntax
>>> 'isn\'t'			# シングルクオートが重なるときは「\」でエスケープ
"isn't"
>>> "isn't"			# もしくはダブルクオート
"isn't"
>>> 'Do you like me?'		# 私が好き？
'Do you like me?'
>>> '"Yes," he said.'		# はい、と彼は言った　異なるクオートを使った場合
'"Yes," he said.'
>>> "\"Yes, \" she said."	# はい、と彼女は言った　エスケープを使った場合
'"No,"she said.'
```

### print（）関数
```bash
>>> "\"No, \" she said."
'"No,"she said.'
>>> print("\"No, \" she said.")	# print()関数を使うと読みやすい出力結果が得られる
"No,"she said.

>>> 'I love you!'* 3				# 文字列でも算術演算子が使える
'I love you! I love you! I love you! '
>>> "i love you!"+ "i love you!"+"i love you! "
'i love you! i love you! i love you!'
文字列とインデックス
>>> word = "LOVE"	# 文字列とインデックスの関係
>>> word[0]
'L'
>>> word[1]
'O'
>>> word[2]
'V'
>>> word[3]
'E'
>>> word[-1]		# マイナスのインデックスの始まりは-1
'E'
>>> word[-2]
'V'
>>> word[-3]
'O'
>>> word[-4]
'L'
```

### 文字列とスライス（切り取り）
```bash
>>> word[0:2]		# LOVEのインデックス0以上2未満
'LO'
>>> word[2:4]
'VE'
```

### 文字列は変更不可能（イミュータブル）
```bash
>>> word[1]='i'
Traceback (most recent call last):
  File "<pyshell#65>", line 1, in <module>
    word[1]='i'
TypeError: 'str' object does not support item assignment
```

### len()関数
```bash
>>> len(word)		# 変数wordの値（love）の長さを調べる
4
>>> len('I love you!')	# 文字列の長さを調べる
11
```

### 前の二つの数を足すと次の数になる数列のプログラミング
・フィボナッチ数列
・イタリアの数学者レオナルド・フィボナッチにちなんだ名前
・最初の数と二番目の数は1と設定する
・1, 1, 2, 3, 5, 8, ・・・
```bash
>>> a, b = 0, 1		# a = 0 と b = 1 を一行で書く（多重代入）　
>>> while b < 10:	# 無限に続くと困るので10までにした
	print(b)
	a, b = b, a + b		# ここでも多重代入

	
1
1
2
3
5
8
```

## 1　今日が誕生日だったらお祝いの言葉を表示するプログラム（if文）

|要　点|説　明|
|---|---|
|プログラムの機能|今日が誕生日であれば、おめでとうと表示してくれる|
|得られる知識|if文の使い方|条件分岐の初歩|

### 手順
（1） ユーザに今日が誕生日かどうか yes か no で答えてもらう
（2） ユーザの答えと文字列yesが一致するか確かめる
（3）一致すればHappy birthday！ と表示する（一致しなければ何も表示しない）

### コード
```python
# if文の練習
answer = input ('今日は誕生日？ :  yes / no')
if answer =='yes':
    print ('Happy Birthday!')
```

### コードの解説
|No|行|対象|説明|
|---|---|---|---|
|1|1|input ('今日は誕生日？ :  yes / no')|input()関数で、ユーザに今日は誕生日かを聞いて、yes か no の文字列を返してもらう|
|2|1|answer = input ('今日は誕生日？ :  yes / no')|・ユーザが入力した文字列を変数 answer に代入する<br>・変数 answer には、yes か no の文字列が入っている（はず）|
|3|2|if answer =='yes':|・この練習のポイントであるif文（いふぶん）<br>・if は「もし～ならば」の意味<br>・選択、条件分岐の機能<br>if文はコロン「:」で終わる|
|4|2|if answer =='yes':|比較演算子「==」で左辺と右辺の値が等しいかどうかを確認する|
|5|2|answer =='yes '|この条件が成り立てば True（真 しん）|
|6|2|answer =='yes '|この条件が成り立なければ False（偽 ぎ）|
|7|2|type( answer =='yes')|<class 'bool'>|・type()関数を使い引数を answer =='yes'にして型をチェックしている|・結果は、ブール型 bool |・boolは、True または False のどちらかを返す|
|8|||条件 condition|比較演算子を使って条件を「評価」すると値としてTrueかFalseが返ってくる|
|9|3|□□□□print ('Happy Birthday!')|True の場合、お祝いの言葉を表示する|
|10|3|□□□□print ('Happy Birthday!')|if文の次からの行（ブロック）は必ずインデントする|
|11|||False の場合、何も表示されない|


## 2　今日が非誕生日だったらお祝いの言葉を表示するプログラム（if-else文）

|要　点|説　明|
|---|---|
|プログラムの機能|今日が誕生日だとおめでとうと表示<br>誕生日ではない場合も表示が出る|
|得られる知識|if-else文の使い方<br>2択の条件分岐のやり方|

### 手順
（1） ユーザに今日が誕生日かどうか yes か no で答えてもらう
（2） ユーザの答えと文字列yesが一致するか確かめる
（3）一致すればHappy birthday！ と表示
（4）一致しなければ「非誕生日の日、万歳！」と表示する

### コード
```python
# if文の練習
answer = input ('今日は誕生日？ :  yes / no ')
if answer =='yes':
    print ('Happy Birthday!')
else:
    print('非誕生日の日、万歳！')
```

### コードの解説

|No|行|対象|説明|
|---|---|---|---|
|1|4|else:|・else は「さもなくば」の意<br>・if文が False ならば、else文に移る<br>・else文もコロン「:」で終わる|
|2|5|□□□□print('非誕生日の日、万歳！')|2行目のコードがFalse だった場合の表示|
|3||□□□□print('非誕生日の日、万歳！')|else文の次からの行（ブロック）は必ずインデントする|

## 3　鋭角、直角、鈍角の判定プログラム（if-elif-else文）

|要　点|説　明|
|---|---|
|プログラムの機能|入力した値から、鋭角、直角、鈍角を判断して表示|
|得られる知識|if-elif-else文の使い方<br>3択以上の条件分岐の方法|
|手順|（1） ユーザに 1から180 までの数字を選んでひとつ入力してもらう<br>（2） 条件は、1以上90未満は鋭角、90は直角、90より大きく180未満は鈍角<br>（3）入力された数字と条件を比較した結果を実行|

### コード
```python
# if_elif_else文の練習
answer = int( input('1から180までの数字を一つ入力してください:'))
if 1 <= answer and answer < 90 :  
     print('鋭角')
elif answer == 90 :
     print('直角')
else:
     print('鈍角')
```

### コードの解説
|No|行|対象|説明|
|---|---|---|---|
|1|1|answer = int( input( ‘ ～： ’ )|input()関数で得た値をint型に変換して変数anwerに代入|
|2|2|if 1 <= answer and answer < 90 :|・if文で最初の条件を示す<br>・比較演算子「<=」は「右辺が左辺以上（左辺が右辺以下）」の意<br>・比較演算子「<」は「右辺が左辺より大（左辺が右辺より小＝未満）」の意|
|3|2|if 1 <= answer and answer < 90 :|・and は論理演算子<br>・右辺と左辺が共にTrueの時にTrue<br>・Falseなら4行目のコードに進む|
|4|3|□□□□print('鋭角')|・if文の後のブロックなので、インデント<br>・2行目がTrueなら鋭角と表示|
|5|4|elif answer == 90 :|・2番目の条件を示すelif文<br>・elif文の終わりはコロン|
|6|4|answer == 90 :|・比較演算子「==」で右辺と左辺を照らし合わせる<br>・Falseなら次のコードに進む|
|7|5|□□□□print('直角')|・elif文の後のブロックなので、インデント<br>・4行目がTrueなら直角と表示|
|8|6|else:|・if文もFalse、elif文もFalseの場合、このコードに来る<br>・else文の終わりはコロン<br>・わざわざ90度より大きく180度以下と書く必要はない|
|9|7|□□□□ print( '鈍角 ')|・else文の後のブロックなので、インデント<br>・6行目がTrueなら鈍角と表示|



## 4　複雑な条件判断処理

|要　点|説　明|
|---|---|
|プログラムの機能|現在の室内温度・湿度が快適かどうかを判断する|
|得られる知識|論理演算子 and の使い方|
|手順|（1） ユーザに室内の温温と湿度を入力してもらう<br>（2） 入力値を表1と比較し、快適な室内温度・湿度かそうでないかを判定<br>（3） 判定の結果を表示|

**表1**
快適な室内の温度・湿度
|季節|快適な室内温度|快適な室内湿度|
|---|---|---|
|冬|18～22度|45～60%|
|夏|25～28度|55～65%|


### コード
```python
# and を使った複雑な条件判断処理の練習
temperature = int(input("室温を入力してください："))
humidity = int(input("湿度を入力してください："))
if 18 <= temperature <= 22 and 45 <= humidity <= 60:
     print("快適です")
elif temperature < 18 and humidity < 45:
     print("寒くて乾燥ぎみです")
elif 22 < temperature and 60 < humidity:
     print("温度が高すぎで多湿ぎみです")
elif 22 < temperature and humidity < 45:
    print("温度が高すぎで乾燥ぎみです")
else:
     print("快適にするためエアコンで調整してください")
```

### コードの解説

|No|行|対象|説明|
|---|---|---|---|
|1||temperature|変数名の temperature は温度の意|
|2||humidity|変数名の humidity は湿度の意|
|3||18 <= temperature <= 22 and 45 <= humidity <= 60|快適な温度と湿度の範囲を and で結ぶ<br>両方がTrueだと、and がTrueになる|
|4||□□□□print('快適です')|この温湿度ゾーンだと快適|
|5||temperature < 18 and humidity < 45|温度が18度を下回り、湿度が45％を下回る場合|
|6||□□□□print('寒くて乾燥ぎみです')|温度が下がると飽和水蒸気量も<br>下がるので必然的に低湿度になる|
|7||22 < temperature and 60 < humidity|温度が22度を上回り、湿度も60％を上回る場合|
|8||□□□□print('温度が高すぎで多湿ぎみです')|温度が上がると飽和水蒸気量も<br>上がるので高湿度になりがち|
|9||22 < temperature and humidity < 45|温度が22度を上回る一方で湿度が45％を下回る場合|
|10||□□□□print( '温度が高すぎで乾燥ぎみです')|加湿が必要ってこど|
|11||else:|他の場合は無視して一括する|
|12||□□□□print('快適にするためエアコンで調整してください')|人任せのメッセージでお茶を濁しました|

## 5　BMI判定プログラム 
BMIとは Body Mass Index　ボディマス指数

|要　点|説　明|
|---|---|
|プログラムの機能|体重と身長から肥満度を知り、健康管理に役立てる|
|得られる知識|if文の簡単な使い方|



手順
1. ユーザに体重（単位kg）と身長（単位m）を入力してもらう。
2. そのデータを次の計算式に入れて計算する。
 		体重 ÷ 身長の2乗
	　　2乗を習っていない生徒は次で計算
　	体重 ÷ （ 身長 × 身長 ）
3. 計算結果を表2の基準で判定する。
4. 計算結果と判定をユーザに表示する。

表2	
|計算結果|判定|
|---|---|
|18.5 未満|痩せ型|
|18.5 以上 25 未満|普通|
|25 以上 35 未満|ちょっと肥満|
|35 以上|肥満|

### コード

# bmiプログラム　
```python
h = int(input("あなたの身長をcm単位で入力してください")) / 100
w = int(input("あなたの体重をkg単位で入力してください"))
bmi = w / ( h ** 2 )
print("あなたのBMI", bmi)
if bmi < 18.5:
     print("判定　やせ型です")
elif 18.5 <= bmi < 25:
     print("判定　ふつうです")
elif 25 <= bmi < 35:
     print("判定　ちょっと肥満型です")
else:
     print("判定　肥満型です")
```

### コードの解説
|No|行|対象|説明|
|---|---|---|---|
|1||h = int( input("あなたの身長~")) / 100|得た文字列をint型に変換し、<br>m単位にした値を変数 h に代入<br>3行分を1行に圧縮した|
|2||w = int(input("あなたの体重~")||
|3||bmi = w / ( h ** 2 )|bmi の計算式。h**2 は h * h と同じ。|

応用の参考例　モチベーショとパフォーマンスのマトリクス

||||パフォーマンス指数||
|---|---|---|---|---|
|||1～2|3～8|9～10|
||9～10|精進せよ|甘んじるな|自然体で持続せよ|
|**モチベーション指数**|3～8|成果発表で力を伸ばせ|ボーッと生きてんじゃねえよ！|人に刺激を貰え|
||1～2|つける薬を探せ|資産を食い潰すな|どういうこと？|



## 6　1月から12月まで表示させるプログラム（for文を使わない場合）

|要　点|説　明|
|---|---|
|プログラムの機能|1月から12月まで、文字列を画面に表示する|
|得られる知識|この例のやり方は、Perlの開発者ラリー・ウォールが言う「プログラマの三大美徳のうち怠惰 Lazinessと短気 Impatience」に反する。この場合の怠惰や短気とは、効率の悪いことを時間をかけてやり続けるのは勤勉とは言わない、アタマを使って短時間でさっと済ませてのんびりしよう、という意味。|
|手順|print()関数で、引数を1月から12月まで毎回書いて画面に表示させる|

### コード
```python
# 1月から12月まで表示させるプログラム
print( “ 1月 ” )
print( “ 2月 ” )
print( “ 3月 ” )
print( “ 4月 ” )
print( “ 5月 ” )
print( “ 6月 ” )
print( “ 7月 ” )
print( “ 8月 ” )
print( “ 9月 ” )
print( “ 10月 ” )
print( “ 11月 ” )
print( “ 12月 ” )
```

## 7　1月から12月まで表示させるプログラム（for文を使う場合）

|要　点|説　明|
|---|---|
|プログラムの機能|1月から12月まで、文字列を画面に表示するスマートな方法|
|得られる知識|for文の使い方|
|手順|（1） 繰り返し文を使う<br>（2）表示させる|

### コード
```python
# 1月から12月までループ文で表示させるプログラム
for i in range(12):
     print(i+1, '月')
```

### コードの解説

|No|行|対象|説明|
|---|---|---|---|
|1|1|for i in range(12):|・for文<br>・構造 for 変数 in 繰り返し反復処理:|
|2|1|for i in range( 12 ):|・構造　for 変数 in 繰り返し反復処理:<br>・i は変数名<br>・range()関数が反復処理して、一つずつ取り出される値を受け取る|
|3|1|for i in range( 12 ):|・range()関数<br>・引数が12なので、range()関数は 0, 1, 2, 3, 4, 5, 6, 7, 8, 7, 9, 10, 11を取り出す|
|4|2|□□□□print( i+1, '月')|・print() 関数の引数が二つある<br>・i+1は、range() 関数が 0, 1, 2, 3・・・と順に取り出して i に代入した値に毎回1を足すという意味|


## 8　range() 関数の引数のセット方法のバリエーション

### コード
```python
# 1月から12月までループ文で表示させるプログラム
for i in range( 1, 13 ):
    print( i, '月')
```

### コードの解説

|No|行|対象|説明|
|---|---|---|---|
|1|1|for i in range( 1, 13 ):|・range(1, 13) と書いてあるので、取り出す数値は、1, 2, 3, 4, 5, 6, 7, 8, 7, 9, 10, 11, 12 となる<br>・range(1,13)は、1以上13未満の数を取り出せ、という意味|
|2|1|□□□□print( i, '月')|`i`は一個目の引数、数字として表示される、`'月'`は二個目の引数、文字列の「月」として表示される|




## 9　1月から12月まで表示させるプログラム（while文を使う場合）

### コード
```python
# 1月から12月までwhile文で表示させるプログラム
i = 1
while i <= 12:
     print( i ,'月')
     i = i + 1
```

### コードの解説
|No|行|対象|説明|
|---|---|---|---|
|1|1|i = 1|変数 i に初期値の1を代入|
|2|2|while i <= 12:|・while文<br>・コロンで終わる<br>・構造　while 条件式:|
|3|2|while i <= 12:|・条件式は i <= 12<br>・i が 12以下のときTrue という意味<br>・1行目で i の初期値が 1 に設定されているので、True となり次の行に進む|
|4|3|□□□□print( i ,'月')|・ブロックの1行目<br>・i の初期値が1なので、最初は1月と表示|
|5|4|□□□□i = i + 1|・ブロックの2行目<br>・iに1を加え、iに代入という意味<br>・右辺の i である 1 に1を加え i に代入 <br>・2行目がTrueである限り、繰り返す<br>・i が 13 のとき条件式 i <= 12 がFalseになり、ループが停止|


## 10　fizzbuzz　フィズバズ
欧米の退屈しのぎ用の遊びfizzbuz
数名で遊ぶ。0からカウントをスタートする。3の倍数が来たらFizzと言う。5の倍数が来たらBuzzと言う。3と5の公倍数が来たらFizzBuzzと言う。間違ったら負け。
次のようになる。
0, 1, 2, fizz（3の倍数）, 4, buzz（5の倍数）, fizz, 7, 8, fizz, buzz, 11, fizz, 13, 14, fizzbuzz（3と5の公倍数）, 16, 17, fizz,...

|要　点|説　明|
|---|---|
|プログラムの機能|fizzbuzz配列を表示させる|
|得られる知識|「プログラムを書けるプログラマ」を見分けるためのテストにも使われる有名なテーマ。|
|手順|（1）ユーザにfizzbuzzで遊ぶ最後の数字を入力してもらう。（終わりの数を設定しないと永遠に続くから）<br>（2）0からスタートして1ずつ増やし、ユーザが指定した数までいく。その間に<br>3の倍数がきたらfizzと表示<br>5の倍数がきたらbuzzと表示<br>3と5の公倍数がきたらfizzbuzzと表示<br>（3）結果を表示する|

### コード
```python
# fizzbuzzプログラム
n = int(input('最後の数を入力してください'))
for i in range( 1, n ):
     if i % 15 == 0:
          print("fizzbuzz", end=', ')
     elif i % 3 == 0:
          print("fizz ", end=',')
     elif i % 5 == 0:
          print("buzz", end=', ')
     else:
          print( i, end=',')
```

### コードの解説
|No|行|対象|説明
|---|---|---|---|
|1||最後の数を入力してください|・101とか、入れてみてください|　
|2||for i in range( 1, n ):|・range() 関数の引数が1とnなので、1から100までの範囲でfizzbuzzをやります|
|3||□□□□ if i % 15 == 0:|・3と5の公倍数は15<br>・下記のように表記してもOK<br>・if i % 3 == 0 and i % 5 ==0 : |
|4||□□□□print("fizzbuzz", end = ',')|・コンマ区切りで表記させる方法<br>・end = ‘, ’ を外すと、縦長に表記する|


## 11　数当てゲーム

|要　点|説　明|
|---|---|
|プログラムの機能|コンピュータが決めた数を人間が当てるゲーム。|
|得られる知識|モジュール random |
|手順|（1）コピペしてゲームを楽しむ<br>（2）コードの作り方の意味を考える<br>（3）改変する|

### コード
```python
import random

secret = random.randrange( 1, 101 )

guess = 0
tries = 0
while guess != secret:
    guess = int( input("1から100までの整数を一つ選んでください: ") )
    tries = tries + 1
    
    if guess > secret:
        print("もうちょっと小さい数です")
    elif guess < secret:
        print("もうちょっとと大きい数です")
    else:
        print("当たり！" )
    
print("予想回数は ", tries,"回でした")

```

## 12　じゃんけんゲーム

|要　点|説　明|
|---|---|
|プログラムの機能|コンピュータとじゃんけんで勝負するゲーム|
|得られる知識|リストの使い方。勝敗を決めるやり方|
|手順|（1）コピペしてゲームを楽しむ<br>（2）コードの作り方の意味を考える<br>（3）改変する|

### コード
```python
import random

moves = ['r', 'p', 's']
player_wins = ['pr', 'sp', 'rs']

while True:
    player_move = input("何を出す？:")
    if player_move == "q":
        break
    computer_move = random.choice(moves)

    print("キミ: ", player_move)
    print("コンピュータ: ", computer_move)

    if player_move == computer_move:
        print("あいこ")
    elif player_move + computer_move in player_wins:
        print("キミの勝ち!")
    else:
        print("キミの負け!")
```

以上。
